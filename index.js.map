{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"52839812-b4c86bdfff86c9a3d984b9ce5\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n        }\n    })\n        .then(res => {\n            return res.data.hits\n        })\n        .catch(err => {\n            console.log(err.message)\n        })\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet sl = new SimpleLightbox('.gallery a', {\n    sourceAttr: 'href',\n    overlay: true,\n    overlayOpacity: 0.9,\n    spinner: true,\n    nav: true,\n    navText: ['<', '>'],\n    captions: true,\n    captionsData: 'alt',\n    captionSelector: 'img',\n    captionDelay: 150,\n    showCounter: true,\n    scrollZoom: true,\n    close: true,\n});\n\nconst loader = document.querySelector('#loader')\nconst gallery = document.querySelector('.gallery');\n\n\n\nfunction createGallery(images) {\n    gallery.insertAdjacentHTML('afterbegin', createCardsMarkup(images));\n    sl.refresh();\n}\n\nfunction clearGallery() {\n    gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n    loader.classList.remove('visually-hidden')\n}\n\nfunction hideLoader() {\n    loader.classList.add('visually-hidden')\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n\n\nfunction createCardsMarkup(arr) {\n    return arr.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"gall-item\">\n        <a class=\"gall-pic\" href=\"${largeImageURL}\">\n            <img\n                width=\"360\"\n                height=\"200\"\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n            />\n        </a>\n        <ul class=\"gall-descr\">\n            <li class=\"gall-descr-item\">Likes: ${likes}</li>\n            <li class=\"gall-descr-item\">Views: ${views}</li>\n            <li class=\"gall-descr-item\">Comments: ${comments}</li>\n            <li class=\"gall-descr-item\">Downloads: ${downloads}</li>\n        </ul>\n    </li>`).join('\\n')\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nimport {\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader,\n} from './js/render-functions.js';\n\nconst searchInput = document.querySelector(\"#searchInput\")\nconst searchBtn = document.querySelector(\"#searchBtn\")\n\nsearchBtn.addEventListener('click', (e) => {\n    e.preventDefault()\n\n    if (!searchInput.value.trim()) {\n        return iziToast.error({\n            position: 'topRight',\n            message: 'Sorry, you have to write something in order to find something! :) Please try again!',\n        });\n    }\n\n    clearGallery()\n\n    showLoader()\n\n    getImagesByQuery(searchInput.value)\n        .then(hits => {\n            if (!hits || hits.length === 0) {\n                return iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            };\n            createGallery(hits)\n        })\n        .catch(err => {\n            console.log(err.message);\n        })\n        .finally(() => {\n            hideLoader()\n        })\n})"],"names":["getImagesByQuery","query","axios","res","err","sl","SimpleLightbox","loader","gallery","createGallery","images","createCardsMarkup","clearGallery","showLoader","hideLoader","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","searchInput","searchBtn","e","iziToast","hits"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,GACKA,EAAI,KAAK,IACnB,EACA,MAAMC,GAAO,CACV,QAAQ,IAAIA,EAAI,OAAO,CACnC,CAAS,CACT,CCfA,IAAIC,EAAK,IAAIC,EAAe,aAAc,CACtC,WAAY,OACZ,QAAS,GACT,eAAgB,GAChB,QAAS,GACT,IAAK,GACL,QAAS,CAAC,IAAK,GAAG,EAClB,SAAU,GACV,aAAc,MACd,gBAAiB,MACjB,aAAc,IACd,YAAa,GACb,WAAY,GACZ,MAAO,EACX,CAAC,EAED,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAIjD,SAASC,EAAcC,EAAQ,CAC3BF,EAAQ,mBAAmB,aAAcG,EAAkBD,CAAM,CAAC,EAClEL,EAAG,QAAO,CACd,CAEA,SAASO,GAAe,CACpBJ,EAAQ,UAAY,EACxB,CAEA,SAASK,GAAa,CAClBN,EAAO,UAAU,OAAO,iBAAiB,CAC7C,CAEA,SAASO,GAAa,CAClBP,EAAO,UAAU,IAAI,iBAAiB,CAC1C,CAKA,SAASI,EAAkBI,EAAK,CAC5B,OAAOA,EAAI,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,oCAE7DN,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,uBAK1BC,CAAY;AAAA,uBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,iDAIsBC,CAAK;AAAA,iDACLC,CAAK;AAAA,oDACFC,CAAQ;AAAA,qDACPC,CAAS;AAAA;AAAA,UAEpD,EAAE,KAAK;AAAA,CAAI,CACrB,CCnDA,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,YAAY,EAErDA,EAAU,iBAAiB,QAAUC,GAAM,CAGvC,GAFAA,EAAE,eAAgB,EAEd,CAACF,EAAY,MAAM,OACnB,OAAOG,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,qFACrB,CAAS,EAGLd,EAAc,EAEdC,EAAY,EAEZb,EAAiBuB,EAAY,KAAK,EAC7B,KAAKI,GAAQ,CACV,GAAI,CAACA,GAAQA,EAAK,SAAW,EACzB,OAAOD,EAAS,MAAM,CAClB,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAELjB,EAAckB,CAAI,CAC9B,CAAS,EACA,MAAMvB,GAAO,CACV,QAAQ,IAAIA,EAAI,OAAO,CACnC,CAAS,EACA,QAAQ,IAAM,CACXU,EAAY,CACxB,CAAS,CACT,CAAC"}